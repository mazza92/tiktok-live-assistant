<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok Live Dashboard - Tableau de Bord</title>
    <style>
        /* Language Switcher Styles */
        .language-switcher {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 8px;
            display: flex;
            gap: 5px;
        }
        
        .lang-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 500;
        }
        
        .lang-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .lang-btn.active {
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            border-color: transparent;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }
        
        /* Mobile responsive for language switcher */
        @media (max-width: 768px) {
            .language-switcher {
                top: 15px;
                left: 15px;
                padding: 6px;
            }
            
            .lang-btn {
                padding: 6px 12px;
                font-size: 12px;
            }
        }

        /* Import all existing styles from dashboard.html */
        :root {
            --animation-duration: 0.5s;
            --transition-duration: 0.3s;
            --shadow-intensity: 0.15;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px 30px 30px 30px;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        /* Mobile responsive layout */
        @media (max-width: 768px) {
            :root {
                --animation-duration: 0.3s;
                --transition-duration: 0.2s;
                --shadow-intensity: 0.1;
            }
            
            .container {
                padding: 15px;
                margin: 10px;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
                gap: 15px;
                margin-bottom: 30px;
            }
            
            .dashboard-header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
                padding: 20px;
            }
            
            .dashboard-header h1 {
                font-size: 2.2rem;
            }
            
            .username-section {
                flex-direction: column;
                gap: 15px;
                align-items: stretch;
            }
            
            .username-input-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .username-input-container input {
                width: 100%;
                text-align: center;
            }
            
            .username-input-container button {
                width: 100%;
                padding: 12px;
                font-size: 1rem;
            }
            
            .current-stream-info {
                text-align: center;
                flex-direction: column;
                gap: 10px;
            }
            
            .question-highlight {
                margin: 20px 0;
            }
            
            .question-stats-bar {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
                padding: 15px;
            }
            
            .question-slideshow {
                margin: 20px 0;
            }
            
            .question-card {
                padding: 20px;
            }
            
            .card-actions {
                flex-direction: column;
                gap: 10px;
            }
            
            /* Mobile performance optimizations */
            .metric-card, .entertainment-gauge, .question-card {
                box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
                backdrop-filter: none !important;
            }
            
            /* Reduce animation complexity on mobile */
            .metric-trend.increase, .metric-trend.decrease, .metric-trend.stable {
                animation: none !important;
            }
            
            /* Disable heavy gradients on mobile */
            .entertainment-gauge::before {
                animation: none !important;
            }
            
            /* Optimize transitions for mobile */
            * {
                transition-duration: var(--transition-duration) !important;
            }
            
            .action-btn-large {
                width: 100%;
                padding: 15px;
                font-size: 1rem;
            }
            
            .viewer-stats-section {
                margin: 20px 0;
            }
            
            .viewer-stats-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .ai-insights {
                margin: 20px 0;
            }
            
            .actionable-prompt {
                margin: 20px 0;
            }
            
            .feed-header {
                font-size: 1.2rem;
                padding: 15px;
            }
            
            .feed-item {
                padding: 15px;
                margin-bottom: 10px;
            }
        }

        /* Tablet responsive layout */
        @media (min-width: 769px) and (max-width: 1024px) {
            .metrics-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 18px;
            }
        }

        .metric-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.06) 100%);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 30px;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            min-height: 150px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        /* Responsive adjustments for metric cards */
        @media (max-width: 768px) {
            .metric-card {
                padding: 20px;
                min-height: 120px;
            }
            
            .metric-value {
                font-size: 2rem;
                margin-bottom: 10px;
            }
            
            .metric-label {
                font-size: 1rem;
                letter-spacing: 1px;
            }
            
            .metric-subtitle {
                font-size: 0.8rem;
                margin-top: 3px;
            }
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }

        .metric-card:hover::before {
            left: 100%;
        }

        .metric-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .metric-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 12px;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            display: block;
            transition: all 0.3s ease;
            position: relative;
        }

        .metric-value.updated {
            animation: valueUpdate 0.6s ease-out;
        }

        @keyframes valueUpdate {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); color: #ffed4e; }
            100% { transform: scale(1); }
        }

        .metric-label {
            font-size: 1.1rem;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 600;
        }

        .metric-subtitle {
            font-size: 0.9rem;
            opacity: 0.7;
            margin-top: 5px;
            font-weight: 400;
            color: rgba(255, 255, 255, 0.8);
        }

        .metric-trend {
            position: absolute;
            top: 18px;
            right: 18px;
            width: 32px;
            height: 32px;
            transition: all 0.3s ease;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.15);
            border-radius: 50%;
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Responsive adjustments for trend indicators */
        @media (max-width: 768px) {
            .metric-trend {
                width: 24px;
                height: 24px;
                top: 12px;
                right: 12px;
            }
        }

        .metric-trend svg {
            width: 100%;
            height: 100%;
            transition: all 0.3s ease;
        }

        .metric-trend.increase {
            color: #00E676;
            animation: pulseGreen 1.5s ease-in-out infinite;
            transform: scale(1.1);
        }

        .metric-trend.increase svg {
            filter: drop-shadow(0 0 12px rgba(0, 230, 118, 0.6));
            animation: glowGreen 2s ease-in-out infinite;
        }

        .metric-trend.decrease {
            color: #FF5252;
            animation: pulseRed 1.5s ease-in-out infinite;
            transform: scale(1.1);
        }

        .metric-trend.decrease svg {
            filter: drop-shadow(0 0 12px rgba(255, 82, 82, 0.6));
            animation: glowRed 2s ease-in-out infinite;
        }

        .metric-trend.stable {
            color: #FFD700;
            opacity: 0.9;
            animation: pulseStable 2s ease-in-out infinite;
        }

        .metric-trend.stable svg {
            filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.5));
        }

        .metric-trend:hover {
            transform: scale(1.2);
            transition: transform 0.3s ease;
        }

        .metric-trend.increase:hover {
            animation: pulseGreen 0.8s ease-in-out infinite;
        }

        .metric-trend.decrease:hover {
            animation: pulseRed 0.8s ease-in-out infinite;
        }

        .metric-trend.stable:hover {
            animation: pulseStable 1s ease-in-out infinite;
        }

        .metric-trend.increase:hover svg {
            filter: drop-shadow(0 0 20px rgba(0, 230, 118, 0.8));
        }

        .metric-trend.decrease:hover svg {
            filter: drop-shadow(0 0 20px rgba(255, 82, 82, 0.8));
        }

        .metric-trend.stable:hover svg {
            filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.7));
        }

        @keyframes pulseGreen {
            0% { transform: scale(1); opacity: 0.8; }
            25% { transform: scale(1.1); opacity: 1; }
            50% { transform: scale(1.3); opacity: 1; }
            75% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 0.8; }
        }

        @keyframes pulseRed {
            0% { transform: scale(1); opacity: 0.8; }
            25% { transform: scale(1.1); opacity: 1; }
            50% { transform: scale(1.3); opacity: 1; }
            75% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 0.8; }
        }

        @keyframes pulseStable {
            0%, 100% { transform: scale(1); opacity: 0.9; }
            50% { transform: scale(1.05); opacity: 1; }
        }

        @keyframes glowGreen {
            0%, 100% { filter: drop-shadow(0 0 12px rgba(0, 230, 118, 0.6)); }
            50% { filter: drop-shadow(0 0 20px rgba(0, 230, 118, 0.9)); }
        }

        @keyframes glowRed {
            0%, 100% { filter: drop-shadow(0 0 12px rgba(255, 82, 82, 0.6)); }
            50% { filter: drop-shadow(0 0 20px rgba(255, 82, 82, 0.9)); }
        }
        
        /* Viewer Stats Cards */
        .viewer-stat-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .viewer-stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        .viewer-stat-card .stat-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .viewer-stat-card .stat-label {
            font-size: 1rem;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .viewer-stat-card .stat-subtitle {
            font-size: 0.8rem;
            opacity: 0.7;
            font-style: italic;
        }

        /* Green Lights Effect for Session Followers (Never Decreases) */
        .metric-card:has(#followersGains) .metric-value {
            position: relative;
            transition: all 0.3s ease;
        }

        .metric-card:has(#followersGains) .metric-value.green-glow {
            color: #00E676;
            text-shadow: 
                0 0 10px rgba(0, 230, 118, 0.8),
                0 0 20px rgba(0, 230, 118, 0.6),
                0 0 30px rgba(0, 230, 118, 0.4);
            animation: followersGlow 2s ease-in-out;
        }

        @keyframes followersGlow {
            0% { 
                transform: scale(1);
                text-shadow: 
                    0 0 10px rgba(0, 230, 118, 0.8),
                    0 0 20px rgba(0, 230, 118, 0.6),
                    0 0 30px rgba(0, 230, 118, 0.4);
            }
            25% { 
                transform: scale(1.05);
                text-shadow: 
                    0 0 15px rgba(0, 230, 118, 1),
                    0 0 25px rgba(0, 230, 118, 0.8),
                    0 0 35px rgba(0, 230, 118, 0.6);
            }
            50% { 
                transform: scale(1.1);
                text-shadow: 
                    0 0 20px rgba(0, 230, 118, 1),
                    0 0 30px rgba(0, 230, 118, 0.9),
                    0 0 40px rgba(0, 230, 118, 0.7);
            }
            75% { 
                transform: scale(1.05);
                text-shadow: 
                    0 0 15px rgba(0, 230, 118, 1),
                    0 0 25px rgba(0, 230, 118, 0.8),
                    0 0 35px rgba(0, 230, 118, 0.6);
            }
            100% { 
                transform: scale(1);
                text-shadow: 
                    0 0 10px rgba(0, 230, 118, 0.8),
                    0 0 20px rgba(0, 230, 118, 0.6),
                    0 0 30px rgba(0, 230, 118, 0.4);
            }
        }

        /* Enhanced Followers Gains Card */
        .metric-card:has(#followersGains) {
            background: linear-gradient(135deg, rgba(0, 230, 118, 0.1) 0%, rgba(0, 230, 118, 0.05) 100%);
            border: 1px solid rgba(0, 230, 118, 0.3);
            position: relative;
            overflow: hidden;
        }

        .metric-card:has(#followersGains)::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, 
                transparent 0%, 
                rgba(0, 230, 118, 0.1) 25%, 
                transparent 50%, 
                rgba(0, 230, 118, 0.1) 75%, 
                transparent 100%);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }

        .metric-card:has(#followersGains).shimmer::before {
            transform: translateX(100%);
        }

        .viewer-stats-section {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .viewer-stats-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            border-radius: 24px;
        }

        .viewer-stats-section h2 {
            margin: 0 0 25px 0;
            font-size: 24px;
            font-weight: 700;
            text-align: center;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 2;
        }

        .viewer-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .viewer-stat-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            z-index: 2;
        }

        .viewer-stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
        }

        .viewer-stat-card .stat-value {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .viewer-stat-card .stat-label {
            font-size: 14px;
            font-weight: 500;
            opacity: 0.9;
            margin-bottom: 4px;
        }
        
        .viewer-stat-card .stat-subtitle {
            font-size: 11px;
            font-weight: 400;
            opacity: 0.7;
            font-style: italic;
        }

        /* Gift Alert Overlay Styles */
        .gift-alert-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            animation: fadeIn 0.3s ease-out;
        }

        .gift-alert-overlay.hidden {
            display: none;
        }

        .gift-alert-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 25px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            animation: slideInUp 0.4s ease-out;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .gift-alert-header {
            margin-bottom: 25px;
        }

        .gift-icon {
            font-size: 48px;
            display: block;
            margin-bottom: 10px;
            animation: bounce 2s infinite;
        }

        .gift-title {
            font-size: 28px;
            font-weight: 700;
            color: #ffffff;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .gift-counter-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .gift-alert-body {
            margin-bottom: 30px;
        }

        .gift-sender {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            gap: 15px;
        }

        .gift-sender-pic {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 3px solid rgba(255, 255, 255, 0.3);
            object-fit: cover;
        }

        .gift-sender-name {
            font-size: 24px;
            font-weight: 600;
            color: #ffffff;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .gift-details {
            margin-bottom: 20px;
        }

        .gift-name {
            font-size: 20px;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .gift-value {
            font-size: 18px;
            color: #ffd700;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .ai-prompt {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .ai-prompt-text {
            font-size: 16px;
            color: #ffffff;
            line-height: 1.5;
            font-style: italic;
        }

        .gift-alert-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .gift-action-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .shoutout-btn {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        .shoutout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
        }

        .thank-btn {
            background: linear-gradient(135deg, #6bcf7f, #4ecdc4);
            color: white;
            box-shadow: 0 4px 15px rgba(107, 207, 127, 0.4);
        }

        .thank-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(107, 207, 127, 0.6);
        }

        .close-btn {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .emergency-btn {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
            box-shadow: 0 4px 15px rgba(220, 53, 69, 0.4);
            font-weight: bold;
        }
        
        .emergency-btn:hover {
            background: linear-gradient(135deg, #c82333, #a71e2a);
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 6px 20px rgba(220, 53, 69, 0.6);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-4px);
            }
        }

        /* Streamer Welcome Alert Styles */
        .streamer-welcome-alert {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            border-radius: 25px;
            padding: 35px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            animation: pulseIn 0.6s ease-out;
            border: 3px solid rgba(255, 255, 255, 0.3);
            z-index: 9999;
            text-align: center;
        }

        .alert-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .alert-icon {
            font-size: 32px;
            animation: bounce 1.5s infinite;
        }

        .alert-title {
            font-size: 24px;
            font-weight: 800;
            color: #ffffff;
            text-shadow: 0 3px 6px rgba(0, 0, 0, 0.4);
            letter-spacing: 1px;
        }

        .alert-body {
            margin-bottom: 20px;
        }

        .alert-viewer {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .alert-viewer-pic {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 3px solid rgba(255, 255, 255, 0.4);
            object-fit: cover;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .alert-viewer-name {
            font-size: 22px;
            font-weight: 700;
            color: #ffffff;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
        }

        .alert-message {
            font-size: 20px;
            color: #ffffff;
            margin-bottom: 20px;
            line-height: 1.4;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
            background: rgba(255, 255, 255, 0.15);
            padding: 15px;
            border-radius: 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .alert-tip {
            font-size: 16px;
            color: #ffffff;
            line-height: 1.4;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .alert-close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: #ffffff;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .alert-close-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        @keyframes pulseIn {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8);
            }
            50% {
                transform: translate(-50%, -50%) scale(1.05);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        /* Performance Monitor Styles */
        .performance-monitor {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .performance-monitor h3 {
            color: white;
            margin: 0 0 15px 0;
            font-size: 18px;
            text-align: center;
        }
        
        .performance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .perf-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .perf-label {
            display: block;
            color: rgba(255, 255, 255, 0.8);
            font-size: 12px;
            margin-bottom: 5px;
        }
        
        .perf-value {
            display: block;
            color: white;
            font-size: 16px;
            font-weight: bold;
        }
        
        .perf-refresh-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .perf-refresh-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .entertainment-gauge {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.1) 0%, rgba(255, 193, 7, 0.08) 100%);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 35px;
            text-align: center;
            margin: 30px 0;
            border: 2px solid rgba(255, 107, 107, 0.25);
            box-shadow: 
                0 20px 40px rgba(255, 107, 107, 0.15),
                0 8px 25px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .entertainment-gauge:hover {
            transform: translateY(-3px);
            box-shadow: 
                0 25px 50px rgba(255, 107, 107, 0.2),
                0 12px 30px rgba(0, 0, 0, 0.15);
        }

        .entertainment-gauge::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #ff6b6b, #ffc107, #ff6b6b);
            animation: gaugeGlow 3s ease-in-out infinite;
        }

        @keyframes gaugeGlow {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        .entertainment-gauge h3 {
            margin: 0 0 20px 0;
            font-size: 1.6rem;
            color: #ffffff;
            font-weight: 700;
            letter-spacing: 0.5px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 2;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .entertainment-gauge h3::before {
            content: 'ðŸ”´';
            font-size: 1.8rem;
            filter: drop-shadow(0 2px 4px rgba(255, 0, 0, 0.3));
            animation: moodPulse 2s ease-in-out infinite;
            color: #ff0000;
            -webkit-text-fill-color: initial;
            background: none;
            -webkit-background-clip: initial;
            background-clip: initial;
        }

        @keyframes moodPulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .gauge-container {
            width: 160px;
            height: 80px;
            margin: 0 auto 20px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2;
        }

        .gauge {
            width: 100%;
            height: 100%;
            border-radius: 80px 80px 0 0;
            background: conic-gradient(
                #ff6b6b 0deg,
                #ffd93d 45deg,
                #6bcf7f 90deg,
                #6bcf7f 180deg
            );
            position: relative;
            transform: rotate(-90deg);
            box-shadow: inset 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        .gauge::before {
            content: '';
            position: absolute;
            width: 80%;
            height: 80%;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.7) 100%);
            border-radius: 64px 64px 0 0;
            top: 10%;
            left: 10%;
            box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        .gauge-needle {
            position: absolute;
            width: 3px;
            height: 40px;
            background: linear-gradient(to top, #2c3e50, #34495e);
            bottom: 0;
            left: 50%;
            transform-origin: bottom center;
            transform: translateX(-50%) rotate(0deg);
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 10;
            border-radius: 2px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }

        .gauge-needle::after {
            content: '';
            position: absolute;
            top: -6px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-bottom: 6px solid #2c3e50;
        }

        /* Main Entertainment Score Display */
        .entertainment-main {
            margin-bottom: 25px;
        }

        .score-display {
            margin-bottom: 25px;
        }

        .score-number {
            font-size: 3.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ff6b6b, #ffd93d, #6bcf7f);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            text-shadow: none;
        }

        .score-label {
            font-size: 1.2rem;
            color: #ffffff;
            font-weight: 600;
            margin-bottom: 20px;
        }

        /* Progress Bar Container */
        .progress-container {
            margin: 0 auto;
            max-width: 400px;
        }

        .progress-bar {
            position: relative;
            height: 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #ffd93d, #6bcf7f);
            border-radius: 8px;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            width: 0%;
            position: relative;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* Progress Markers */
        .progress-markers {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            pointer-events: none;
        }

        .marker {
            font-size: 1.4rem;
            transition: all 0.3s ease;
            text-align: center;
            flex: 1;
            position: relative;
        }

        .marker.active {
            transform: scale(1.3);
            filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.6));
            z-index: 2;
        }

        .marker.boring { color: #9E9E9E; }
        .marker.meh { color: #FF9800; }
        .marker.good { color: #8BC34A; }
        .marker.entertaining { color: #4CAF50; }
        .marker.fire { color: #ff4444; }

        /* Progress Labels */
        .progress-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 8px;
        }

        .progress-labels span {
            flex: 1;
            text-align: center;
            transition: color 0.3s ease;
        }

        .progress-labels span:hover {
            color: rgba(255, 255, 255, 1);
        }

        .entertainment-breakdown {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Mobile responsive entertainment breakdown */
        @media (max-width: 768px) {
            .entertainment-breakdown {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .entertainment-breakdown {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }
            
            .breakdown-item {
                padding: 12px 8px;
            }
            
            .breakdown-icon {
                font-size: 1.3rem;
            }
            
            .breakdown-label {
                font-size: 0.65rem;
            }
            
            .breakdown-value {
                font-size: 0.9rem;
            }
        }

        .breakdown-item {
            text-align: center;
            padding: 18px 12px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.06) 100%);
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .breakdown-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .breakdown-item:hover::before {
            left: 100%;
        }

        .breakdown-icon {
            font-size: 1.8rem;
            margin-bottom: 10px;
            opacity: 1;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
            transition: all 0.3s ease;
        }

        .breakdown-item:hover {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.18) 0%, rgba(255, 255, 255, 0.1) 100%);
            transform: translateY(-3px) scale(1.02);
            border-color: rgba(255, 107, 107, 0.4);
            box-shadow: 0 12px 25px rgba(255, 107, 107, 0.2);
        }

        .breakdown-item:hover .breakdown-icon {
            transform: scale(1.1);
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
        }

        .breakdown-label {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 8px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            transition: color 0.3s ease;
        }

        .breakdown-item:hover .breakdown-label {
            color: #ffffff;
        }

        .breakdown-value {
            font-size: 1.1rem;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }

        .breakdown-item:hover .breakdown-value {
            color: #ffed4e;
            text-shadow: 0 4px 8px rgba(255, 237, 78, 0.4);
        }

        .entertainment-score {
            font-size: 2.5rem;
            font-weight: 800;
            color: #ffffff;
            margin: 15px 0 10px;
            display: block;
            transition: all 0.4s ease;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 2;
        }

        .entertainment-label {
            font-size: 1.1rem;
            color: #ffffff;
            margin: 0;
            font-weight: 600;
            text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 2;
            letter-spacing: 0.5px;
        }

        .entertainment-scale {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 15px;
            letter-spacing: 1px;
            font-weight: 500;
            text-transform: uppercase;
            position: relative;
            z-index: 2;
        }

        /* Add subtle animation to the gauge */
        .gauge-container:hover .gauge {
            transform: rotate(-90deg) scale(1.02);
            transition: transform 0.3s ease;
        }

        /* Add glow effect to the score */
        .entertainment-score:hover {
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            transform: scale(1.05);
        }

        /* Add pulse animation for the gauge */
        @keyframes gaugePulse {
            0% { box-shadow: 0 15px 30px rgba(255, 107, 107, 0.2); }
            50% { box-shadow: 0 15px 30px rgba(255, 107, 107, 0.4), 0 0 20px rgba(255, 107, 107, 0.2); }
            100% { box-shadow: 0 15px 30px rgba(255, 107, 107, 0.2); }
        }

        .entertainment-gauge {
            animation: gaugePulse 3s ease-in-out infinite;
        }

        /* Add floating animation for the needle */
        @keyframes needleFloat {
            0%, 100% { transform: translateX(-50%) rotate(var(--rotation)) translateY(0px); }
            50% { transform: translateX(-50%) rotate(var(--rotation)) translateY(-2px); }
        }

        .gauge-needle {
            animation: needleFloat 2s ease-in-out infinite;
        }

        /* Add gradient text effect for the title */
        .entertainment-gauge h3 {
            background: linear-gradient(45deg, #ffffff, #f0f0f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Add modern card effect */
        .entertainment-gauge {
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Add smooth transitions for all gauge elements */
        .gauge-container * {
            transition: all 0.3s ease;
        }

        /* Improve gauge responsiveness */
        @media (max-width: 768px) {
            .gauge-container {
                width: 120px;
                height: 60px;
            }
            
            .entertainment-score {
                font-size: 1.8rem;
            }
            
            .entertainment-gauge h3 {
                font-size: 1.2rem;
            }

            .progress-container {
                max-width: 300px;
            }

            .marker {
                font-size: 1.2rem;
            }

            .progress-labels {
                font-size: 0.65rem;
            }
        }

        .prompt-text {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 25px;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            line-height: 1.3;
            max-width: 90%;
        }
        
        .high-priority {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            border: 2px solid #ff4757;
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.4);
            border-radius: 15px;
            padding: 20px;
        }
        
        .medium-priority {
            background: linear-gradient(135deg, #ffa726, #ff9800);
            border: 2px solid #ff9800;
            box-shadow: 0 0 20px rgba(255, 167, 38, 0.4);
            border-radius: 15px;
            padding: 20px;
        }
        
        .auto-prompt-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            font-size: 0.9rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .auto-prompt-icon {
            font-size: 1.2rem;
        }
        
        .auto-prompt-type {
            background: rgba(255, 255, 255, 0.2);
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
        }
        
        .auto-prompt-priority {
            background: rgba(255, 255, 255, 0.2);
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
        }
        
        .auto-prompt-message {
            font-size: 1.3rem;
            margin-bottom: 10px;
        }
        
        .auto-prompt-trigger {
            font-size: 0.8rem;
            opacity: 0.8;
            font-style: italic;
        }

        .prompt-timestamp {
            font-size: 1rem;
            opacity: 0.8;
            font-weight: 500;
            letter-spacing: 1px;
        }

        .no-prompt {
            font-size: 1.4rem;
            opacity: 0.7;
            font-style: italic;
            color: #ccc;
        }

        .activity-feed {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 35px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        .activity-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 15px;
        }

        .tab-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 8px 16px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .tab-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .tab-btn.active {
            background: linear-gradient(45deg, #ff0050, #ff6b9d);
            border-color: transparent;
            box-shadow: 0 4px 15px rgba(255, 0, 80, 0.3);
        }

        .activity-summary {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .summary-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 5px;
        }

        .summary-icon {
            font-size: 1.5rem;
            opacity: 0.9;
        }

        .summary-count {
            font-size: 1.2rem;
            font-weight: 700;
            color: #ffd700;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .activity-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            flex-wrap: wrap;
            gap: 15px;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
        }

        .control-group select {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #ffffff;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 0.9rem;
            cursor: pointer;
        }

        .control-group select:focus {
            outline: none;
            border-color: #ffd700;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        .control-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #ffffff;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .control-btn.paused {
            background: rgba(255, 193, 7, 0.3);
            border-color: #ffc107;
            color: #ffc107;
        }
        
        .top-engagers {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 35px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
        }
        
        .ai-insights {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 35px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
        }

        .question-highlight {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.15), rgba(255, 193, 7, 0.15));
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 35px;
            border: 2px solid rgba(255, 107, 107, 0.3);
            box-shadow: 0 15px 35px rgba(255, 107, 107, 0.2);
            margin-top: 30px;
            position: relative;
            overflow: hidden;
        }

        .question-highlight::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff6b6b, #ffc107, #ff6b6b);
            animation: questionPulse 2s infinite;
        }

        @keyframes questionPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .question-stats-bar {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }

        .question-slideshow {
            position: relative;
            margin-top: 20px;
        }

        .slideshow-container {
            position: relative;
            min-height: 300px;
        }

        .question-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            text-align: center;
            transition: all 0.4s ease;
            animation: cardGlow 2s infinite alternate;
        }

        @keyframes cardGlow {
            0% { box-shadow: 0 10px 30px rgba(255, 107, 107, 0.2); }
            100% { box-shadow: 0 15px 40px rgba(255, 193, 7, 0.3); }
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .question-priority-badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .priority-5 { background: rgba(255, 68, 68, 0.3); color: #ff4444; border: 1px solid rgba(255, 68, 68, 0.5); }
        .priority-4 { background: rgba(255, 136, 0, 0.3); color: #ff8800; border: 1px solid rgba(255, 136, 0, 0.5); }
        .priority-3 { background: rgba(255, 170, 0, 0.3); color: #ffaa00; border: 1px solid rgba(255, 170, 0, 0.5); }
        .priority-2 { background: rgba(139, 195, 74, 0.3); color: #8BC34A; border: 1px solid rgba(139, 195, 74, 0.5); }
        .priority-1 { background: rgba(158, 158, 158, 0.3); color: #9E9E9E; border: 1px solid rgba(158, 158, 158, 0.5); }

        .question-timer {
            background: rgba(255, 255, 255, 0.1);
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            color: #ffd700;
            font-weight: 500;
        }

        .question-content {
            margin-bottom: 30px;
        }

        .viewer-info {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            gap: 10px;
        }

        .viewer-icon {
            font-size: 1.5rem;
        }

        .viewer-name {
            font-size: 1.4rem;
            font-weight: 700;
            color: #ffd700;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .question-text {
            font-size: 1.6rem;
            line-height: 1.4;
            color: #ffffff;
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-weight: 500;
        }

        .card-actions {
            display: flex;
            gap: 20px;
            justify-content: center;
        }

        .action-btn-large {
            padding: 20px 30px;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            min-width: 160px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .answer-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: 2px solid #4CAF50;
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .answer-btn:hover {
            background: linear-gradient(135deg, #45a049, #4CAF50);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);
        }

        .ignore-btn {
            background: linear-gradient(135deg, #9E9E9E, #757575);
            color: white;
            border: 2px solid #9E9E9E;
            box-shadow: 0 5px 15px rgba(158, 158, 158, 0.3);
        }

        .ignore-btn:hover {
            background: linear-gradient(135deg, #757575, #9E9E9E);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(158, 158, 158, 0.4);
        }

        .btn-icon {
            font-size: 1.5rem;
        }

        .btn-text {
            font-size: 0.9rem;
        }

        .auto-advance-indicator {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 25px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .indicator-text {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            font-style: italic;
            transition: color 0.3s ease;
            text-align: center;
        }
        
        .auto-advance-indicator .question-counter {
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #ffd700;
            font-weight: 600;
            min-width: 80px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .question-counter {
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #ffd700;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <!-- Language Switcher -->
    <div class="language-switcher">
        <button class="lang-btn active" onclick="switchLanguage('en')" data-lang="en">ðŸ‡ºðŸ‡¸ EN</button>
        <button class="lang-btn" onclick="switchLanguage('fr')" data-lang="fr">ðŸ‡«ðŸ‡· FR</button>
    </div>

    <div class="dashboard-header">
        <h1 data-en="TikTok Live Assistant" data-fr="Assistant TikTok Live">TikTok Live Assistant</h1>
        <div class="connection-status" id="connectionStatus">
            <span class="status-text" id="statusText" data-en="Connecting..." data-fr="Connexion...">Connecting...</span>
            <button class="refresh-btn" onclick="manualReconnect()" id="refreshBtn" style="display: none;">ðŸ”„</button>
            <div class="gift-queue-status" id="giftQueueStatus" style="display: none;">
                <span class="queue-icon">ðŸŽ</span>
                <span class="queue-count" id="queueCount">0</span>
                <button class="queue-clear-btn" onclick="clearGiftQueue()" title="Clear all pending gifts">ðŸš¨</button>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Username Input Section -->
        <div class="username-section">
            <div class="username-input-container">
                <input type="text" id="usernameInput" 
                       data-en-placeholder="Enter TikTok username (without @)" 
                       data-fr-placeholder="Entrez le nom d'utilisateur TikTok (sans @)"
                       placeholder="Enter TikTok username (without @)" value="">
                <button id="connectBtn" onclick="connectToStream()" 
                        data-en="ðŸ”— Connect" 
                        data-fr="ðŸ”— Se connecter">ðŸ”— Connect</button>
                <button id="disconnectBtn" onclick="disconnectFromStream()" style="display: none;" 
                        data-en="âŒ Disconnect" 
                        data-fr="âŒ Se dÃ©connecter">âŒ Disconnect</button>
            </div>
            <div class="current-stream-info" id="currentStreamInfo">
                <div class="stream-status-container">
                    <span id="streamStatus" data-en="Not connected" data-fr="Non connectÃ©">Not connected</span>
                    <span id="streamerName"></span>
                </div>
                <div class="connection-details" id="connectionDetails" style="display: none;">
                    <span class="connection-time" id="connectionTime"></span>
                    <span class="connection-duration" id="connectionDuration"></span>
                </div>
            </div>
        </div>

        <!-- Entertainment Gauge -->
        <div class="entertainment-gauge">
            <h3 data-en="Live Mood Score" data-fr="Score d'Humeur en Direct">Live Mood Score</h3>
            
            <div class="entertainment-main">
                <div class="score-display">
                    <div class="score-number" id="entertainmentScore">0</div>
                    <div class="score-label" id="entertainmentLabel" data-en="Neutral" data-fr="Neutre">Neutral</div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-markers">
                        <div class="marker boring">ðŸ˜´</div>
                        <div class="marker meh">ðŸ˜</div>
                        <div class="marker good">ðŸ˜Š</div>
                        <div class="marker entertaining">ðŸŽ‰</div>
                        <div class="marker fire">ðŸ”¥</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-labels">
                        <span data-en="Boring" data-fr="Ennuyeux">Boring</span>
                        <span data-en="Meh" data-fr="Bof">Meh</span>
                        <span data-en="Good" data-fr="Bien">Good</span>
                        <span data-en="Entertaining" data-fr="Divertissant">Entertaining</span>
                        <span data-en="Fire!" data-fr="Feu!">Fire!</span>
                    </div>
                </div>
            </div>
            
            <div class="entertainment-breakdown">
                <div class="breakdown-item">
                    <div class="breakdown-icon">ðŸ“Š</div>
                    <div class="breakdown-label" data-en="Engagement" data-fr="Engagement">Engagement</div>
                    <div class="breakdown-value" id="engagementIntensity">0%</div>
                </div>
                <div class="breakdown-item">
                    <div class="breakdown-icon">ðŸŽ­</div>
                    <div class="breakdown-label" data-en="Content" data-fr="Contenu">Content</div>
                    <div class="breakdown-value" id="contentReception">0%</div>
                </div>
                <div class="breakdown-item">
                    <div class="breakdown-icon">âš¡</div>
                    <div class="breakdown-label" data-en="Energy" data-fr="Ã‰nergie">Energy</div>
                    <div class="breakdown-value" id="audienceEnergy">0%</div>
                </div>
                <div class="breakdown-item">
                    <div class="breakdown-icon">ðŸ“ˆ</div>
                    <div class="breakdown-label" data-en="Retention" data-fr="RÃ©tention">Retention</div>
                    <div class="breakdown-value" id="retentionQuality">0%</div>
                </div>
            </div>
        </div>

        <!-- Actionable Prompt Section -->
        <div class="actionable-prompt">
            <div class="feed-header">
                <span data-en="ðŸŽ¯ LIVE ASSISTANT" data-fr="ðŸŽ¯ ASSISTANT EN DIRECT">ðŸŽ¯ LIVE ASSISTANT</span>
                <div class="tts-controls">
                    <button id="ttsToggle" class="tts-toggle-btn" title="Toggle Text-to-Speech (Ctrl+Shift+T)">
                        ðŸ”Š <span id="ttsStatus" data-en="OFF" data-fr="ARRÃŠT">OFF</span>
                    </button>
                    <div class="tts-settings" id="ttsSettings">
                        <select id="ttsVoice" class="tts-select" title="Select Voice">
                            <option value="" data-en="Loading voices..." data-fr="Chargement des voix...">Loading voices...</option>
                        </select>
                        <div class="tts-control-group">
                            <label for="ttsSpeed" class="tts-label" data-en="Speed" data-fr="Vitesse">Speed</label>
                            <input type="range" id="ttsSpeed" min="0.5" max="2" step="0.1" value="1" class="tts-slider" title="Speech Speed">
                            <span class="tts-value" id="ttsSpeedValue">1.0x</span>
                        </div>
                        <div class="tts-control-group">
                            <label for="ttsVolume" class="tts-label" data-en="Volume" data-fr="Volume">Volume</label>
                            <input type="range" id="ttsVolume" min="0" max="1" step="0.1" value="0.8" class="tts-slider" title="Volume">
                            <span class="tts-value" id="ttsVolumeValue">80%</span>
                        </div>
                    </div>
                </div>
            </div>
            <div id="actionablePrompt">
                <div class="prompt-content">
                    <div class="prompt-icon">ðŸ¤–</div>
                    <div class="prompt-text" data-en="Waiting for AI insights..." data-fr="En attente des insights IA...">Waiting for AI insights...</div>
                    <div class="prompt-trigger" data-en="No triggers detected yet" data-fr="Aucun dÃ©clencheur dÃ©tectÃ©">No triggers detected yet</div>
                    <div id="ttsSpeakingIndicator" class="tts-speaking-indicator hidden">
                        ðŸ”Š <span data-en="Speaking..." data-fr="Parle...">Speaking...</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Metrics Grid -->
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-value" id="viewerCount">0</div>
                <div class="metric-label" data-en="Live Viewers" data-fr="Spectateurs en Direct">Live Viewers</div>
                <div class="metric-trend" id="viewerTrend"></div>
            </div>

            <div class="metric-card">
                <div class="metric-value" id="followersGains">0</div>
                <div class="metric-label" data-en="New Followers" data-fr="Nouveaux AbonnÃ©s">New Followers</div>
                <div class="metric-subtitle" id="followersGainsSubtitle" data-en="0 gained this stream" data-fr="0 gagnÃ©s ce stream">0 gained this stream</div>
                <div class="metric-trend" id="followersGainsTrend"></div>
            </div>

            <div class="metric-card">
                <div class="metric-value" id="totalLikes">0</div>
                <div class="metric-label" data-en="Total Likes" data-fr="Total J'aime">Total Likes</div>
                <div class="metric-trend" id="totalLikesTrend"></div>
            </div>

            <div class="metric-card">
                <div class="metric-value" id="totalGifts">0</div>
                <div class="metric-label" data-en="Total Gifts" data-fr="Total Cadeaux">Total Gifts</div>
                <div class="metric-subtitle" id="totalGiftsValue" data-en="$0.00 total value" data-fr="$0.00 valeur totale">$0.00 total value</div>
                <div class="metric-trend" id="totalGiftsTrend"></div>
            </div>

            <div class="metric-card">
                <div class="metric-value" id="likesPerMinute">0</div>
                <div class="metric-label" data-en="Likes per Minute" data-fr="J'aime par Minute">Likes per Minute</div>
                <div class="metric-trend" id="likesPerMinuteTrend"></div>
            </div>

            <div class="metric-card">
                <div class="metric-value" id="totalShares">0</div>
                <div class="metric-label" data-en="Total Shares" data-fr="Total Partages">Total Shares</div>
                <div class="metric-trend" id="totalSharesTrend"></div>
            </div>
        </div>

        <!-- Question Highlight Section -->
        <div class="question-highlight">
            <div class="feed-header" data-en="Viewers Questions â“" data-fr="Questions des Spectateurs â“">Viewers Questions â“</div>
            
            <div class="question-stats-bar">
                <div class="stat-item">
                    <div class="stat-label" data-en="Total" data-fr="Total">Total</div>
                    <div class="stat-value" id="totalQuestions">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label" data-en="Response Rate" data-fr="Taux de RÃ©ponse">Response Rate</div>
                    <div class="stat-value" id="responseRate">0%</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label" data-en="Avg Time" data-fr="Temps Moyen">Avg Time</div>
                    <div class="stat-value" id="avgResponseTime">0s</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label" data-en="Priority" data-fr="PrioritÃ©">Priority</div>
                    <div class="stat-value" id="currentPriority">-</div>
                </div>
            </div>
            
            <div class="question-slideshow" id="questionSlideshow">
                <div class="slideshow-container">
                    <div class="question-card" id="currentQuestionCard">
                        <div class="card-header">
                            <div class="question-priority-badge" id="priorityBadge">-</div>
                            <div class="question-timer" id="questionTimer">-</div>
                        </div>
                        
                        <div class="question-content">
                            <div class="viewer-info">
                                <span class="viewer-icon">ðŸ‘¤</span>
                                <span class="viewer-name" id="viewerName">-</span>
                            </div>
                            <div class="question-text" id="questionText" data-en="No pending questions..." data-fr="Aucune question en attente...">No pending questions...</div>
                        </div>
                        
                        <div class="card-actions">
                            <button class="action-btn-large answer-btn" id="answerBtn" onclick="handleQuestionAnswered()">
                                <span class="btn-icon">âœ…</span>
                                <span class="btn-text" data-en="ANSWERED" data-fr="RÃ‰PONDU">ANSWERED</span>
                            </button>
                            <button class="action-btn-large ignore-btn" id="ignoreBtn" onclick="handleQuestionIgnored()">
                                <span class="btn-icon">âŒ</span>
                                <span class="btn-text" data-en="IGNORE" data-fr="IGNORER">IGNORE</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="auto-advance-indicator">
                    <div class="indicator-text" id="autoAdvanceStatus" data-en="Auto-advancing questions..." data-fr="Questions Ã  progression automatique...">Auto-advancing questions...</div>
                    <div class="question-counter" id="questionCounter">0 / 0</div>
                </div>
            </div>
        </div>

        <!-- Viewer Stats Section -->
        <div class="viewer-stats-section">
            <h2 data-en="ðŸ‘¥ Viewer Watch Time Analytics" data-fr="ðŸ‘¥ Analyse du Temps de Visionnage">ðŸ‘¥ Viewer Watch Time Analytics</h2>
            <div class="viewer-stats-grid">
                <div class="viewer-stat-card">
                    <div class="stat-value" id="totalUniqueViewers">0</div>
                    <div class="stat-label" data-en="Total Joined Viewers" data-fr="Total Spectateurs Rejoints">Total Joined Viewers</div>
                </div>
                <div class="viewer-stat-card">
                    <div class="stat-value" id="averageWatchTime">0s</div>
                    <div class="stat-label" data-en="Average Watch Time" data-fr="Temps de Visionnage Moyen">Average Watch Time</div>
                </div>
                <div class="viewer-stat-card">
                    <div class="stat-value" id="longestWatchTime">0s</div>
                    <div class="stat-label" data-en="Longest Watch Time" data-fr="Temps de Visionnage le Plus Long">Longest Watch Time</div>
                </div>
                <div class="viewer-stat-card">
                    <div class="stat-value" id="viewerRetentionRate">0%</div>
                    <div class="stat-label" data-en="Viewer Retention" data-fr="RÃ©tention des Spectateurs">Viewer Retention</div>
                    <div class="stat-subtitle" data-en="Current / Total Unique" data-fr="Actuel / Total Unique">Current / Total Unique</div>
                </div>
            </div>
        </div>

        <!-- AI Insights Section -->
        <div class="ai-insights">
            <div class="feed-header" data-en="Live Stream Insights & Trends" data-fr="Insights et Tendances du Stream en Direct">Live Stream Insights & Trends</div>
            <div id="aiInsights">
                <div class="feed-item">
                    <div class="feed-content" data-en="Waiting for AI analysis..." data-fr="En attente de l'analyse IA...">Waiting for AI analysis...</div>
                </div>
            </div>
        </div>

        <!-- Predictive Analytics -->
        <div class="predictive-analytics">
            <div class="feed-header" data-en="ðŸ”® Predictive Analytics" data-fr="ðŸ”® Analyse PrÃ©dictive">ðŸ”® Predictive Analytics</div>
            <div class="predictive-grid">
                <div class="predictive-card churn-risk">
                    <div class="predictive-icon">ðŸš¨</div>
                    <div class="predictive-title" data-en="Churn Risk" data-fr="Risque de Perte">Churn Risk</div>
                    <div class="predictive-value" id="churnRiskScore">0%</div>
                    <div class="predictive-trend" id="churnRiskTrend" data-en="Stable" data-fr="Stable">Stable</div>
                </div>
                
                <div class="predictive-card monetization">
                    <div class="predictive-icon">ðŸ’°</div>
                    <div class="predictive-title" data-en="Monetization Opportunity" data-fr="OpportunitÃ© de MonÃ©tisation">Monetization Opportunity</div>
                    <div class="predictive-value" id="monetizationScore">0%</div>
                    <div class="predictive-trend" id="monetizationTrend" data-en="Low" data-fr="Faible">Low</div>
                </div>
                
                <div class="predictive-card retention">
                    <div class="predictive-icon">ðŸ“ˆ</div>
                    <div class="predictive-title" data-en="Viewer Retention" data-fr="RÃ©tention des Spectateurs">Viewer Retention</div>
                    <div class="predictive-value" id="retentionRate">0%</div>
                    <div class="predictive-trend" id="retentionTrend" data-en="Stable" data-fr="Stable">Stable</div>
                </div>
                
                <div class="predictive-card volatility">
                    <div class="predictive-icon">ðŸ“Š</div>
                    <div class="predictive-title" data-en="Sentiment Volatility" data-fr="VolatilitÃ© du Sentiment">Sentiment Volatility</div>
                    <div class="predictive-value" id="sentimentVolatility">0</div>
                    <div class="predictive-trend" id="volatilityTrend" data-en="Low" data-fr="Faible">Low</div>
                </div>
            </div>
            
            <div class="predictive-insights" id="predictiveInsights">
                <div class="feed-item">
                    <div class="feed-content" data-en="Waiting for predictive analysis..." data-fr="En attente de l'analyse prÃ©dictive...">Waiting for predictive analysis...</div>
                </div>
            </div>
        </div>

        <!-- Activity Feed -->
        <div class="activity-feed">
            <div class="feed-header" data-en="ðŸ“Š Chat Activity" data-fr="ðŸ“Š ActivitÃ© du Chat">ðŸ“Š Chat Activity</div>
            
            <div class="activity-tabs">
                <button class="tab-btn active" onclick="switchActivityTab('all')" data-en="All" data-fr="Tout">All</button>
                <button class="tab-btn" onclick="switchActivityTab('messages')" data-en="ðŸ’¬ Messages" data-fr="ðŸ’¬ Messages">ðŸ’¬ Messages</button>
                <button class="tab-btn" onclick="switchActivityTab('engagements')" data-en="â¤ï¸ Engagements" data-fr="â¤ï¸ Engagements">â¤ï¸ Engagements</button>
            </div>
            
            <div class="activity-summary">
                <div class="summary-item">
                    <span class="summary-icon">ðŸ’¬</span>
                    <span class="summary-count" id="commentCount">0</span>
                </div>
                <div class="summary-item">
                    <span class="summary-icon">â¤ï¸</span>
                    <span class="summary-count" id="likeCount">0</span>
                </div>
                <div class="summary-item">
                    <span class="summary-icon">ðŸŽ</span>
                    <span class="summary-count" id="giftCount">0</span>
                </div>
                <div class="summary-item">
                    <span class="summary-icon">ðŸ‘¥</span>
                    <span class="summary-count" id="viewerCount">0</span>
                </div>
            </div>
            
            <div id="activityFeed">
                <div class="feed-item">
                    <div class="feed-content" data-en="Dashboard loaded and ready for live data..." data-fr="Tableau de bord chargÃ© et prÃªt pour les donnÃ©es en direct...">Dashboard loaded and ready for live data...</div>
                </div>
            </div>
            
            <div id="activityPagination" class="activity-pagination"></div>
            
            <div class="activity-controls">
                <div class="control-group">
                    <label class="control-label" data-en="Items per Page:" data-fr="Ã‰lÃ©ments par Page :">Items per Page:</label>
                    <select id="maxItems" onchange="updateMaxItems()">
                        <option value="10">10</option>
                        <option value="20" selected>20</option>
                        <option value="30">30</option>
                        <option value="50">50</option>
                    </select>
                </div>
                <div class="control-group">
                    <button class="control-btn" onclick="togglePerformanceMode()" id="perfToggleBtn" 
                            data-en="ðŸš€ Performance Mode" 
                            data-fr="ðŸš€ Mode Performance">ðŸš€ Performance Mode</button>
                </div>
                <button class="control-btn" onclick="toggleActivityPause()" id="pauseBtn" 
                        data-en="â¸ï¸ Pause" 
                        data-fr="â¸ï¸ Pause">â¸ï¸ Pause</button>
            </div>
        </div>
        
        <!-- Top Engagers -->
        <div class="top-engagers">
            <div class="feed-header" data-en="ðŸ† Top Engaged Users" data-fr="ðŸ† Top des Utilisateurs EngagÃ©s">ðŸ† Top Engaged Users</div>
            <div id="topEngagedUsers">
                <div class="feed-item">
                    <div class="feed-content" data-en="Waiting for engagement data..." data-fr="En attente des donnÃ©es d'engagement...">Waiting for engagement data...</div>
                </div>
            </div>
        </div>
        
        <!-- New Followers -->
        <div class="new-followers">
            <div class="feed-header" data-en="ðŸ†• New Followers" data-fr="ðŸ†• Nouveaux AbonnÃ©s">ðŸ†• New Followers</div>
            <div id="newFollowers">
                <div class="feed-item">
                    <div class="feed-content" data-en="No new followers yet..." data-fr="Aucun nouvel abonnÃ© pour le moment...">No new followers yet...</div>
                </div>
            </div>
        </div>
        
        <!-- Prompt History -->
        <div class="prompt-history">
            <div class="feed-header" data-en="ðŸ“œ Prompt History" data-fr="ðŸ“œ Historique des Prompts">ðŸ“œ Prompt History</div>
            <div id="promptHistory">
                <div class="feed-item">
                    <div class="feed-content" data-en="No prompts generated yet..." data-fr="Aucun prompt gÃ©nÃ©rÃ© pour le moment...">No prompts generated yet...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Gift Alert Overlay -->
    <div id="giftAlertOverlay" class="gift-alert-overlay hidden">
        <div class="gift-alert-content">
            <div class="gift-alert-header">
                <span class="gift-icon">ðŸŽ</span>
                <span class="gift-title" data-en="Gift Received!" data-fr="Cadeau ReÃ§u !">Gift Received!</span>
                <div class="gift-counter-badge" id="giftCounterBadge" style="display: none;">1</div>
            </div>
            <div class="gift-alert-body">
                <div class="gift-sender">
                    <img id="giftSenderPic" class="gift-sender-pic" src="" alt="Profile Picture">
                    <span id="giftSenderName" class="gift-sender-name"></span>
                </div>
                <div class="gift-details">
                    <div class="gift-name" id="giftName"></div>
                    <div class="gift-value" id="giftValue"></div>
                </div>
                <div class="ai-prompt" id="aiGiftPrompt"></div>
            </div>
            <div class="gift-alert-actions">
                <button class="gift-action-btn shoutout-btn" onclick="generateShoutout()" type="button" 
                        data-en="ðŸŽ¤ Shoutout" 
                        data-fr="ðŸŽ¤ Coup de Pouce">ðŸŽ¤ Shoutout</button>
                <button class="gift-action-btn thank-btn" onclick="generateThankYou()" type="button" 
                        data-en="ðŸ™ Thank You" 
                        data-fr="ðŸ™ Merci">ðŸ™ Thank You</button>
                <button class="gift-action-btn close-btn" onclick="closeGiftAlert()" type="button">âœ•</button>
                <button class="gift-action-btn emergency-btn" onclick="clearGiftQueue()" type="button" 
                        title="Emergency: Clear all pending gifts">ðŸš¨ Clear All</button>
            </div>
        </div>
    </div>

    <script>
        // Language management
        let currentLanguage = 'en';
        const translations = {
            en: {
                // Main titles and headers
                'TikTok Live Assistant': 'TikTok Live Assistant',
                'Live Mood Score': 'Live Mood Score',
                'Viewers Questions â“': 'Viewers Questions â“',
                'Viewer Watch Time Analytics': 'Viewer Watch Time Analytics',
                'Live Stream Insights & Trends': 'Live Stream Insights & Trends',
                'Predictive Analytics': 'Predictive Analytics',
                'Chat Activity': 'Chat Activity',
                'Top Engaged Users': 'Top Engaged Users',
                'New Followers': 'New Followers',
                'Prompt History': 'Prompt History',
                'LIVE ASSISTANT': 'LIVE ASSISTANT',
                
                // Status and connection
                'Connecting...': 'Connecting...',
                'Not connected': 'Not connected',
                'Connected': 'Connected',
                'Connection Error': 'Connection Error',
                
                // Form elements
                'Enter TikTok username (without @)': 'Enter TikTok username (without @)',
                'ðŸ”— Connect': 'ðŸ”— Connect',
                'âŒ Disconnect': 'âŒ Disconnect',
                
                // Metrics and labels
                'Live Viewers': 'Live Viewers',
                'New Followers': 'New Followers',
                'Total Likes': 'Total Likes',
                'Total Gifts': 'Total Gifts',
                'Likes per Minute': 'Likes per Minute',
                'Total Shares': 'Total Shares',
                '0 gained this stream': '0 gained this stream',
                '$0.00 total value': '$0.00 total value',
                
                // Entertainment gauge
                'Neutral': 'Neutral',
                'Boring': 'Boring',
                'Meh': 'Meh',
                'Good': 'Good',
                'Entertaining': 'Entertaining',
                'Fire!': 'Fire!',
                'Engagement': 'Engagement',
                'Content': 'Content',
                'Energy': 'Energy',
                'Retention': 'Retention',
                
                // Questions
                'Total': 'Total',
                'Response Rate': 'Response Rate',
                'Avg Time': 'Avg Time',
                'Priority': 'Priority',
                'No pending questions...': 'No pending questions...',
                'ANSWERED': 'ANSWERED',
                'IGNORE': 'IGNORE',
                'Auto-advancing questions...': 'Auto-advancing questions...',
                
                // Viewer stats
                'Total Joined Viewers': 'Total Joined Viewers',
                'Average Watch Time': 'Average Watch Time',
                'Longest Watch Time': 'Longest Watch Time',
                'Viewer Retention': 'Viewer Retention',
                'Current / Total Unique': 'Current / Total Unique',
                
                // AI and insights
                'Waiting for AI analysis...': 'Waiting for AI analysis...',
                'Waiting for predictive analysis...': 'Waiting for predictive analysis...',
                'Churn Risk': 'Churn Risk',
                'Monetization Opportunity': 'Monetization Opportunity',
                'Viewer Retention': 'Viewer Retention',
                'Sentiment Volatility': 'Sentiment Volatility',
                'Stable': 'Stable',
                'Low': 'Low',
                
                // Activity feed
                'All': 'All',
                'ðŸ’¬ Messages': 'ðŸ’¬ Messages',
                'â¤ï¸ Engagements': 'â¤ï¸ Engagements',
                'Dashboard loaded and ready for live data...': 'Dashboard loaded and ready for live data...',
                'Items per Page:': 'Items per Page:',
                'ðŸš€ Performance Mode': 'ðŸš€ Performance Mode',
                'â¸ï¸ Pause': 'â¸ï¸ Pause',
                
                // Top engagers and followers
                'Waiting for engagement data...': 'Waiting for engagement data...',
                'No new followers yet...': 'No new followers yet...',
                'No prompts generated yet...': 'No prompts generated yet...',
                
                // Gift alerts
                'Gift Received!': 'Gift Received!',
                'ðŸŽ¤ Shoutout': 'ðŸŽ¤ Shoutout',
                'ðŸ™ Thank You': 'ðŸ™ Thank You',
                
                // TTS controls
                'OFF': 'OFF',
                'Loading voices...': 'Loading voices...',
                'Speed': 'Speed',
                'Volume': 'Volume',
                'Speaking...': 'Speaking...',
                
                // Prompts
                'Waiting for AI insights...': 'Waiting for AI insights...',
                'No triggers detected yet': 'No triggers detected yet'
            },
            fr: {
                // Main titles and headers
                'TikTok Live Assistant': 'Assistant TikTok Live',
                'Live Mood Score': 'Score d\'Humeur en Direct',
                'Viewers Questions â“': 'Questions des Spectateurs â“',
                'Viewer Watch Time Analytics': 'Analyse du Temps de Visionnage',
                'Live Stream Insights & Trends': 'Insights et Tendances du Stream en Direct',
                'Predictive Analytics': 'Analyse PrÃ©dictive',
                'Chat Activity': 'ActivitÃ© du Chat',
                'Top Engaged Users': 'Top des Utilisateurs EngagÃ©s',
                'New Followers': 'Nouveaux AbonnÃ©s',
                'Prompt History': 'Historique des Prompts',
                'LIVE ASSISTANT': 'ASSISTANT EN DIRECT',
                
                // Status and connection
                'Connecting...': 'Connexion...',
                'Not connected': 'Non connectÃ©',
                'Connected': 'ConnectÃ©',
                'Connection Error': 'Erreur de Connexion',
                
                // Form elements
                'Enter TikTok username (without @)': 'Entrez le nom d\'utilisateur TikTok (sans @)',
                'ðŸ”— Connect': 'ðŸ”— Se connecter',
                'âŒ Disconnect': 'âŒ Se dÃ©connecter',
                
                // Metrics and labels
                'Live Viewers': 'Spectateurs en Direct',
                'New Followers': 'Nouveaux AbonnÃ©s',
                'Total Likes': 'Total J\'aime',
                'Total Gifts': 'Total Cadeaux',
                'Likes per Minute': 'J\'aime par Minute',
                'Total Shares': 'Total Partages',
                '0 gained this stream': '0 gagnÃ©s ce stream',
                '$0.00 total value': '$0.00 valeur totale',
                
                // Entertainment gauge
                'Neutral': 'Neutre',
                'Boring': 'Ennuyeux',
                'Meh': 'Bof',
                'Good': 'Bien',
                'Entertaining': 'Divertissant',
                'Fire!': 'Feu!',
                'Engagement': 'Engagement',
                'Content': 'Contenu',
                'Energy': 'Ã‰nergie',
                'Retention': 'RÃ©tention',
                
                // Questions
                'Total': 'Total',
                'Response Rate': 'Taux de RÃ©ponse',
                'Avg Time': 'Temps Moyen',
                'Priority': 'PrioritÃ©',
                'No pending questions...': 'Aucune question en attente...',
                'ANSWERED': 'RÃ‰PONDU',
                'IGNORE': 'IGNORER',
                'Auto-advancing questions...': 'Questions Ã  progression automatique...',
                
                // Viewer stats
                'Total Joined Viewers': 'Total Spectateurs Rejoints',
                'Average Watch Time': 'Temps de Visionnage Moyen',
                'Longest Watch Time': 'Temps de Visionnage le Plus Long',
                'Viewer Retention': 'RÃ©tention des Spectateurs',
                'Current / Total Unique': 'Actuel / Total Unique',
                
                // AI and insights
                'Waiting for AI analysis...': 'En attente de l\'analyse IA...',
                'Waiting for predictive analysis...': 'En attente de l\'analyse prÃ©dictive...',
                'Churn Risk': 'Risque de Perte',
                'Monetization Opportunity': 'OpportunitÃ© de MonÃ©tisation',
                'Viewer Retention': 'RÃ©tention des Spectateurs',
                'Sentiment Volatility': 'VolatilitÃ© du Sentiment',
                'Stable': 'Stable',
                'Low': 'Faible',
                
                // Activity feed
                'All': 'Tout',
                'ðŸ’¬ Messages': 'ðŸ’¬ Messages',
                'â¤ï¸ Engagements': 'â¤ï¸ Engagements',
                'Dashboard loaded and ready for live data...': 'Tableau de bord chargÃ© et prÃªt pour les donnÃ©es en direct...',
                'Items per Page:': 'Ã‰lÃ©ments par Page :',
                'ðŸš€ Performance Mode': 'ðŸš€ Mode Performance',
                'â¸ï¸ Pause': 'â¸ï¸ Pause',
                
                // Top engagers and followers
                'Waiting for engagement data...': 'En attente des donnÃ©es d\'engagement...',
                'No new followers yet...': 'Aucun nouvel abonnÃ© pour le moment...',
                'No prompts generated yet...': 'Aucun prompt gÃ©nÃ©rÃ© pour le moment...',
                
                // Gift alerts
                'Gift Received!': 'Cadeau ReÃ§u !',
                'ðŸŽ¤ Shoutout': 'ðŸŽ¤ Coup de Pouce',
                'ðŸ™ Thank You': 'ðŸ™ Merci',
                
                // TTS controls
                'OFF': 'ARRÃŠT',
                'Loading voices...': 'Chargement des voix...',
                'Speed': 'Vitesse',
                'Volume': 'Volume',
                'Speaking...': 'Parle...',
                
                // Prompts
                'Waiting for AI insights...': 'En attente des insights IA...',
                'No triggers detected yet': 'Aucun dÃ©clencheur dÃ©tectÃ©'
            }
        };

        // Language switching function
        function switchLanguage(lang) {
            currentLanguage = lang;
            
            // Update language switcher buttons
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-lang') === lang) {
                    btn.classList.add('active');
                }
            });
            
            // Update all translatable elements
            document.querySelectorAll('[data-en][data-fr]').forEach(element => {
                if (lang === 'fr') {
                    element.textContent = element.getAttribute('data-fr');
                } else {
                    element.textContent = element.getAttribute('data-en');
                }
            });
            
            // Update placeholders
            document.querySelectorAll('[data-en-placeholder][data-fr-placeholder]').forEach(element => {
                if (lang === 'fr') {
                    element.placeholder = element.getAttribute('data-fr-placeholder');
                } else {
                    element.placeholder = element.getAttribute('data-en-placeholder');
                }
            });
            
            // Update HTML lang attribute
            document.documentElement.lang = lang;
            
            // Save language preference
            localStorage.setItem('dashboard_language', lang);
            
            console.log(`ðŸŒ Language switched to: ${lang}`);
        }

        // Load saved language preference
        function loadLanguagePreference() {
            const savedLang = localStorage.getItem('dashboard_language');
            if (savedLang && (savedLang === 'en' || savedLang === 'fr')) {
                switchLanguage(savedLang);
            }
        }

        // Initialize language on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadLanguagePreference();
        });

        // Export the language switching function for use in other scripts
        window.switchLanguage = switchLanguage;
        window.currentLanguage = currentLanguage;
        window.translations = translations;
    </script>

    <!-- Include the rest of the JavaScript from the original dashboard -->
    <script src="dashboard.js"></script>
</body>
</html>
